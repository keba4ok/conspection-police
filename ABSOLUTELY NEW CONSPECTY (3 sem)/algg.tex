\documentclass[a4paper]{article}

%plastikovye pakety

\usepackage[12pt]{extsizes}
\usepackage[utf8]{inputenc}
\usepackage[unicode, pdftex]{hyperref}
\usepackage{cmap}
\usepackage{mathtext}
\usepackage{multicol}
\setlength{\columnsep}{1cm}
\usepackage[T2A]{fontenc}
\usepackage[english,russian]{babel}
\usepackage{amsmath,amsfonts,amssymb,amsthm,mathtools}
\usepackage{icomma}
\usepackage{euscript}
\usepackage{mathrsfs}
\usepackage[dvipsnames]{xcolor}
\usepackage[left=2cm,right=2cm,
    top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}
\usepackage[normalem]{ulem}
\usepackage{graphicx}
\usepackage{makeidx}
\usepackage{bbold}
\makeindex
\graphicspath{{pictures/}}
\DeclareGraphicsExtensions{.pdf,.png,.jpg}
%\usepackage[usenames]{color}
\hypersetup{
     colorlinks=true,
     linkcolor=brightturquoise,
     filecolor=brightturquoise,
     citecolor=black,      
     urlcolor=brightturquoise,
     }
\usepackage{fancyhdr}
\pagestyle{fancy} 
\fancyhead{} 
\fancyhead[LE,RO]{\thepage} 
\fancyhead[CO]{\hyperlink{uk}{к списку объектов}}
\fancyhead[LO]{\hyperlink{sod}{к содержанию}} 
\fancyfoot{}
\newtheoremstyle{indented}{0 pt}{0 pt}{\itshape}{}{\bfseries}{. }{0 em}{ }

\renewcommand\thesection{}
\renewcommand\thesubsection{}

%\geometry{verbose,a4paper,tmargin=2cm,bmargin=2cm,lmargin=2.5cm,rmargin=1.5cm}

\title{Теория категорий}
\author{Тутанов Михаил \\ на основе лекций Петрова В.А.
\\ под редакцией @keba4ok}
\date{\today}


%envirnoments
    \theoremstyle{indented}
    \newtheorem{theorem}{Теорема}
    \newtheorem{lemma}{Лемма}
    \newtheorem{alg}{Алгоритм}

    \theoremstyle{definition} 
    \newtheorem{defn}{Определение}
    \newtheorem{exl}{Пример(ы)}
    \newtheorem{prob}{Задача}

    \theoremstyle{remark} 
    \newtheorem{remark}{Примечание}
    \newtheorem{cons}{Следствие}
    \newtheorem{exer}{Упражнение}
    \newtheorem{stat}{Утверждение}
%esli ne hochetsa numeracii - nuzhno prisunut' zvezdochku-pezsochku

\definecolor{brightturquoise}{rgb}{0.28, 0.82, 0.8}

%declarations
        %arrows_shorten
            \DeclareMathOperator{\la}{\leftarrow}
            \DeclareMathOperator{\ra}{\rightarrow}
            \DeclareMathOperator{\lra}{\leftrightarrow}
            \DeclareMathOperator{\llra}{\longleftrightarrow}
            \DeclareMathOperator{\La}{\Leftarrow}
            \DeclareMathOperator{\Ra}{\Rightarrow}
            \DeclareMathOperator{\Lra}{\Leftrightarrow}
            \DeclareMathOperator{\Llra}{\Longleftrightarrow}

        %letters_different
            \DeclareMathOperator{\CC}{\mathbb{C}}
            \DeclareMathOperator{\ZZ}{\mathbb{Z}}
            \DeclareMathOperator{\RR}{\mathbb{R}}
            \DeclareMathOperator{\NN}{\mathbb{N}}
            \DeclareMathOperator{\HH}{\mathbb{H}}
            \DeclareMathOperator{\LL}{\mathscr{L}}
            \DeclareMathOperator{\KK}{\mathscr{K}}
            \DeclareMathOperator{\GA}{\mathfrak{A}}
            \DeclareMathOperator{\GB}{\mathfrak{B}}
            \DeclareMathOperator{\GC}{\mathfrak{C}}
            \DeclareMathOperator{\GD}{\mathfrak{D}}
            \DeclareMathOperator{\GN}{\mathfrak{N}}
            \DeclareMathOperator{\Rho}{\mathcal{P}}
            \DeclareMathOperator{\FF}{\mathcal{F}}

        %common_shit
            \DeclareMathOperator{\Ker}{Ker}
            \DeclareMathOperator{\Frac}{Frac}
            \DeclareMathOperator{\Imf}{Im}
            \DeclareMathOperator{\cont}{cont}
            \DeclareMathOperator{\id}{id}
            \DeclareMathOperator{\ev}{ev}
            \DeclareMathOperator{\lcm}{lcm}
            \DeclareMathOperator{\chard}{char}
            \DeclareMathOperator{\codim}{codim}
            \DeclareMathOperator{\rank}{rank}
            \DeclareMathOperator{\ord}{ord}
            \DeclareMathOperator{\End}{End}
            \DeclareMathOperator{\Ann}{Ann}
            \DeclareMathOperator{\Real}{Re}
            \DeclareMathOperator{\Res}{Res}
            \DeclareMathOperator{\Rad}{Rad}
            \DeclareMathOperator{\disc}{disc}
            \DeclareMathOperator{\rk}{rk}
            \DeclareMathOperator{\const}{const}
            \DeclareMathOperator{\grad}{grad}
            \DeclareMathOperator{\Aff}{Aff}
            \DeclareMathOperator{\Lin}{Lin}
            \DeclareMathOperator{\Prf}{Pr}
            \DeclareMathOperator{\Iso}{Iso}
            \DeclareMathOperator{\Ob}{Ob}
            \DeclareMathOperator{\Hom}{Hom}

        %specific_shit
            \DeclareMathOperator{\Tors}{Tors}
            \DeclareMathOperator{\form}{Form}
            \DeclareMathOperator{\Pred}{Pred}
            \DeclareMathOperator{\Func}{Func}
            \DeclareMathOperator{\Const}{Const}
            \DeclareMathOperator{\arity}{arity}
            \DeclareMathOperator{\Aut}{Aut}
            \DeclareMathOperator{\Var}{Var}
            \DeclareMathOperator{\Term}{Term}
            \DeclareMathOperator{\sub}{sub}
            \DeclareMathOperator{\Sub}{Sub}
            \DeclareMathOperator{\Atom}{Atom}
            \DeclareMathOperator{\FV}{FV}
            \DeclareMathOperator{\Sent}{Sent}
            \DeclareMathOperator{\Th}{Th}
            \DeclareMathOperator{\supp}{supp}
            \DeclareMathOperator{\Eq}{Eq}
            \DeclareMathOperator{\Prop}{Prop}


%env_shortens_from_hirsh            
    \newcommand{\bex}{\begin{example}\rm}
    \newcommand{\eex}{\end{example}}
    \newcommand{\ba}{\begin{algorithm}\rm}
    \newcommand{\ea}{\end{algorithm}}
    \newcommand{\bea}{\begin{eqnarray*}}
    \newcommand{\eea}{\end{eqnarray*}}
    \newcommand{\be}{\begin{eqnarray}}
    \newcommand{\ee}{\end{eqnarray}}
    \newcommand{\abs}[1]{\lvert#1\rvert}
        \newcommand{\bp}{\begin{pr\Ob}}
        \newcommand{\ep}{\end{pr\Ob}}
    
\begin{document}
%ya_ebanutyi
\newcommand{\resetexlcounters}{%
  \setcounter{exl}{0}%
} 
\newcommand{\resetremarkcounters}{%
  \setcounter{remark}{0}%
} 
\newcommand{\reseconscounters}{%
  \setcounter{cons}{0}%
} 
\newcommand{\resetall}{%
    \resetexlcounters
    \resetremarkcounters
    \reseconscounters%
}
\newcommand{\cursed}[1]{\textit{\textcolor{brightturquoise}{#1}}}
\newcommand{\de}[3][2]{\index{#2}{\textbf{\textcolor{brightturquoise}{#3}}}}
\newcommand{\re}[3][2]{\hypertarget{#2}{\textbf{\textcolor{brightturquoise}{#3}}}}
\newcommand{\se}[3][2]{\index{#2}{\textit{\textcolor{brightturquoise}{#3}}}}
\maketitle 

\newpage

\hypertarget{sod}
\tableofcontents

\newpage

\section{Основные определения}

\begin{defn} 

\se{Категория}{Категория $\mathcal{C}$} -- это 
    \begin{itemize}
        \item класс\footnote{Если вдруг даже множество, то такая категория называется \textit{малой}} $\Ob\mathcal{C}$, элементы которого называются \textit{объектами};
        \item попарно непересекающиеся множества \textit{морфизмов} $\Hom (X, Y)$\footnote{Обозначение $Mor$ на мой взгляд логичнее, но используется сильно реже} для любых двух $X$ и $Y$ из $\Ob\mathcal{C}$;
        \item операция композиции $\circ $: $\Hom (Y, Z)\times \Hom (X, Y) \rightarrow \Hom (X, Z)$, удовлетворяющая двум аксиомам.
    \end{itemize}
\end{defn}

Аксиомы композиции: 

\begin{itemize}
    \item ассоциативность $(f\circ g)\circ h = f\circ (g\circ h)$;
    \item для любого $A$ из $\mathcal{C}$\footnote{$\Ob$ по-хорошему писать надо, но оно часто опускается} существует $\id_{A}\in{\Hom (A, A)}$ такое, что $f\circ \id_{A} = f$, $\id_{A}\circ f = f$ для любого осмысленного $f$.
\end{itemize}

\begin{defn}
    Два объекта $X$ и $Y$ в категории $\mathcal{C}$ называются \se{Изоморфные объекты}{изоморфными}, если $\exists f\in{\Hom (X, Y)}$ и $g\in{\Hom (Y, X)}$ такие, что $f\circ g=\id_{Y}$, $g\circ f=\id_{X}$. $f$ и $g$ в этом случае называются $\textit{изоморфизмами}$.
\end{defn}

\begin{defn}
    Объект $A$ в категории $\mathcal{C}$ называется \se{Терминальный объект}{терминальным} (\cursed{инициальным}), если для любого $X$ из $\mathcal{C}$ $\vert \Hom (X, A)\vert=1$ ($\vert \Hom (A, X)\vert=1$)
\end{defn}

\begin{stat}
    Если терминальный (инициальный) объект существует, то он единственен с точностью до единственного изоморфизма.
\end{stat}

\begin{proof}
    Пусть $A$ и $A'$ -- терминальные объекты, тогда из определения существует единственный $f$ из $A$ в $A'$ и единственный $g$ из $A'$ в $A$, композиция $f\circ g$ в этом случае будет элементом $\Hom (A', A')$, но $\id_{A'}$ также элемент этого одноэлементного множества, поэтому $f\circ g = \id_{A'}$, аналогично $g\circ f = \id_{A}$, то есть $A$ и $A'$ изоморфны по определению.
\end{proof}

Как можно заметить, инициальный и терминальный объекты подозрительно похожи, для того, чтобы формализовать наше подозрение, введём понятие двойственной (противоположной) категории.

\begin{defn}
    Для категории $\mathcal{C}$ определим следующую категорию $\mathcal{C}^{op}$, которую будем называть \se{Двойственная категория}{двойственной} (\cursed{противоположной}): $\Ob\mathcal{C}^{op} = \Ob\mathcal{C}$, $\Hom _{\mathcal{C}^{op}}(X, Y)=\Hom _{\mathcal{C}}(Y, X)$, $f^{op}\circ ^{op}g^{op} = g\circ f$.
\end{defn}

\begin{remark}
    Иницальный объект в $\mathcal{C}$ соответсвует терминальному в $\mathcal{C}^{op}$ и наоборот.
\end{remark}

\section{Примеры на основные определения}

Примеры категорий с указанием терминальных и инициальных объектов: 

\begin{itemize}
    \item $Sets$: $\Ob Sets=$ все множества, $\Hom (X, Y)=$ все отображения из $X$ в $Y$, $\circ $ -- обычная композиция отображений. Инициальный объект -- $\emptyset$, терминальный -- любой, состоящий из одного элемента (нетрудно проверить, что они действительно попарно изоморфны);
    \item $Groups$, $Rings$ и т.д. морфизмы были определены на первом курсе. В $Vect_{F}$ и инициальный, и терминальный объект -- 0;
    \item $Top$: объекты -- топологические пространства, морфизмы -- непрерывные отображения. Инициальный и терминальный объект такие же, как и для $Sets$;
    \item $HTop$: $\Ob HTop$ -- компактно-порождённые топологические пространства, морфизмы -- непрерывные отображения, профакторизованные по гомотопиям;
    \item Категория с одним элементом, $\Ob\mathcal{C}$ = ${X}$, морфизмы в этом случае образуют моноид.
    \item Частичный (пред)порядок на $M$ (ЧУМ), $\Ob\mathcal{C}$ = $M$, $\Hom (x, y) = {\emptyset}$, если $x\leq y$, $=\emptyset$, иначе.
    \item $Rels$, $\Ob Rels$ = все множества, $\Hom (X, Y)$ = все подмножества в $X\times{Y}$, $R\circ  S$ = $\lbrace(x, z) \vert \exists y \in Y, (x, y)\in S, (y, z)\in T\rbrace$
\end{itemize}

%main_content
%ukazatel'. chto ne v\idno blyat'?

\section{Ещё определения}

\begin{defn}
    \se{Произведение объектов}{Произведением} объектов $X$ и $Y$ в категории $\mathcal{C}$ называется объект $X\times Y$, обладающий следующим универсальным свойством: фиксированы морфизмы $pr_{X}: X\times Y\rightarrow X$ и $pr_{Y}: X\times Y\rightarrow Y$ и для любого объекта $Z$ с морфизмами $f: Z\rightarrow X$ и $g: Z\rightarrow Y$, существует единственный морфизм $h: Z\rightarrow X\times Y$, делающий диаграмму коммутативной: $pr_{X} \circ  h = f$, $pr_{Y} \circ  h = g$.
\end{defn}

Пользуясь принципом двойственности можно определить копроизведение, развернув все стрелки.

\begin{defn}
    \se{Копроизведение объектов}{Копроизведением} объектов $X$ и $Y$ в категории $\mathcal{C}$ называется объект $X\amalg Y$, обладающий следующим универсальным свойством: фиксированы морфизмы $i_{X}: X\amalg Y\leftarrow X$ и $i_{Y}: X\amalg Y\leftarrow Y$ и для любого объекта $Z$ с морфизмами $f: Z\leftarrow X$ и $g: Z\leftarrow Y$, существует единственный морфизм $h: Z\leftarrow X\amalg Y$, делающий диаграмму коммутативной: $h \circ  i_{X} = f$, $h \circ  i_{Y} = g$.
\end{defn}

\begin{stat}
    Если (ко)произведение существует, то оно единственно с точностью до единственного изоморфизма.
\end{stat}

\begin{proof}
    Следует из определения через универсальное свойство. Если взять два объекта с этим свойством, то из них будут единственные стрелки в друг друга, а композиция окажется $\id$, подробнее см. утверждение1. Далее подобные доказательства будут полностью опускаться.
\end{proof}

Примеры на произведение и копроизведение:

\begin{itemize}
    \item $Sets$: $X\times Y$ -- обычное декартово произведение; $X\amalg Y$ -- дизъюнктное объединение $X$ и $Y$\footnote{Для меня странно, что произведение в этом случае существует всегда, а двойственное к нему -- нет, но что поделать};
    \item $Groups$: $G\times H$ -- опять же декартово произведение; $G\amalg H$ = $G\ast H$ -- свободное произведение групп (во втором семестре оно задавалось ровно этим универсальным свойством);
    \item $Top$: аналогично $Sets$;
    \item ЧУМ: $x\times y$ = $min(x, y)$, $x\amalg y$ = $max(x, y)$.
\end{itemize}

Определим ещё одну важную категорию (пока что в частном случае, когда-нибудь здесь появится значительно более общее определение)

\begin{defn}
    \se{Категория стрелки}{Категорией стрелки} $\mathcal{C}/A$, где $\mathcal{C}$ -- категория, а $A$ -- объект в ней, называется следующая категория: $\Ob\mathcal{C}/A$ = пары $(X, f)$, где $X\in \Ob\mathcal{C}$, $f\in \Hom (X, A)$; $\Hom ((X, f), (Y, g)$ = $\lbrace h\in \Hom (X, Y) \vert f = g\circ  h \rbrace$. 
\end{defn}

Терминальным объектом в этой категории будет $(A, \id_{A})$. Аналогично, развернув стрелки, можно определить категорию $\mathcal{C}\setminus A$

\begin{defn}
    Произведение в категории стрелки называется \se{Расслоённое произведение}{расслоённым произведением}.
\end{defn}

Рассмотрим примеры расслоённых произведений: 

\begin{itemize}
    \item $Sets$: $X\times _{A} Y$ = $\lbrace(x, y) \in X\times Y\vert f(x)=g(y)\rbrace$;
    \item $Sets^{op}$: $X\amalg _{A} Y$ = $X\amalg Y / \sim$, где $\sim$ порождено $f(a) \sim g(a)$. В $Top$ это просто склейка;
    \item $Groups$: произведение как на $Sets$, $G\amalg _{K} H$ -- свободное произведение с объединённой подгруппой.
\end{itemize}

\begin{defn}
\se{Функтор}{Функтором} $\mathcal{F}$ называется отображение между двумя категориями $\mathcal{C}$ и $\mathcal{D}$ (определённое и на объектах, и на морфизмах) с ожидаемыми свойствами: 
    \begin{itemize}
        \item Если $f\in \Hom (X, Y)$, то $\mathcal{F} (f)\in \Hom (\mathcal{F}(X), \mathcal{F}(Y))$;
        \item $\mathcal{F}(f\circ  g) = \mathcal{F}(f) \circ  \mathcal{F}(g)$;
        \item $\mathcal{F}(\id_{A}) = \id_{\mathcal{F}(A)}$.
    \end{itemize}
\end{defn} 

Примеры функторов: 

\begin{itemize}
    \item $\pi _{1}: Top \rightarrow Groups$;
    \item Если $M_{1}$ и $M_{2}$ -- моноиды (как категории с одним объектом), тогда $\mathcal{F}$ -- гомоморфизм моноидов;
    \item $M$ -- моноид, $\mathcal{F}: M\rightarrow Vect_{K}$ -- это выбор векторного пространства и гомоморфизма $M \rightarrow End(V)$;
    \item В ЧУМе функторы -- монотонные отображения;
    \item $\mathcal{F}: \mathbb{1} \rightarrow \mathcal{C}$ -- выбор объекта в $\mathcal{C}$, а если наоборот, то функтор единственен, то есть одноэлементная категория с одним морфизмом -- это <<терминальная>> категория (строгое определение будет позднее).
\end{itemize}

\hypertarget{dex}
    \printindex
%staryi_variant
%\hypertarget{uk}{Основные понятия.}
%\begin{multicols}{2}
%    \hyperlink{}{} \ 
%\end{multicols}
%novyi_variant
\end{document}